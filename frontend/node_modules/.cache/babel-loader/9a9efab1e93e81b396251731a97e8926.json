{"remainingRequest":"/data/xbonline/xbops/node_modules/babel-loader/lib/index.js!/data/xbonline/xbops/node_modules/cache-loader/dist/cjs.js??ref--0-0!/data/xbonline/xbops/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/xbonline/xbops/src/components/tasklist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/xbonline/xbops/src/components/tasklist.vue","mtime":1597213655391},{"path":"/data/xbonline/xbops/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/xbonline/xbops/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/data/xbonline/xbops/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/xbonline/xbops/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/data/xbonline/xbops/.babelrc","mtime":1597024338283},{"path":"/data/xbonline/xbops/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/xbonline/xbops/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/data/xbonline/xbops/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/xbonline/xbops/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHRhZ2NvbSBmcm9tICcuL3RhZ2NvbSc7CmltcG9ydCBidXR0b25jb20gZnJvbSAnLi9idXR0b25jb20nOwppbXBvcnQgcmVxd2VzdCBmcm9tICdyZXF3ZXN0JzsKaW1wb3J0IGluZmluaXRlU2Nyb2xsIGZyb20gJ3Z1ZS1pbmZpbml0ZS1zY3JvbGwnOwp2YXIgZmFrZURhdGFVcmwgPSAnaHR0cDovLzE5Mi4xNjguMC4yOTo1MzUwL3NlbGVjdHRhc2snOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnY3VycmVudHN0YXR1cycsICdkYXRhJ10sCiAgY29tcG9uZW50czogewogICAgdGFnY29tOiB0YWdjb20sCiAgICBidXR0b25jb206IGJ1dHRvbmNvbQogIH0sCiAgZGlyZWN0aXZlczogewogICAgaW5maW5pdGVTY3JvbGw6IGluZmluaXRlU2Nyb2xsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGJ1c3k6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5mZXRjaERhdGEoZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZURhdGEnLCByZXMucmVzdWx0cyk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKGNhbGxiYWNrKSB7CiAgICAgIHJlcXdlc3QoewogICAgICAgIHVybDogZmFrZURhdGFVcmwsCiAgICAgICAgdHlwZTogJ2pzb24nLAogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgc3RhdHVzOiB0aGlzLmN1cnJlbnRzdGF0dXMKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHsKICAgICAgICAgIGNhbGxiYWNrKHJlcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVJbmZpbml0ZU9uTG9hZDogZnVuY3Rpb24gaGFuZGxlSW5maW5pdGVPbkxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMsIGRhdGEpOwoKICAgICAgaWYgKGRhdGEubGVuZ2l0aCA+PSAxMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygnSW5maW5pdGUgTGlzdCBsb2FkZWQgYWxsJyk7CiAgICAgICAgdGhpcy5idXN5ID0gdHJ1ZTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZmV0Y2hEYXRhKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAvLyB0aGlzLmRhdGEgPSBkYXRhLmNvbmNhdChyZXMucmVzdWx0cyk7CgogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVRhc2s6IGZ1bmN0aW9uIHVwZGF0ZVRhc2socmVzZGF0YSkgewogICAgICB0aGlzLmRhdGEgPSByZXNkYXRhOwogICAgfQogIH0KfTs="},{"version":3,"sources":["tasklist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,OAAA,MAAA,MAAA,UAAA;AACA,OAAA,SAAA,MAAA,aAAA;AACA,OAAA,OAAA,MAAA,SAAA;AACA,OAAA,cAAA,MAAA,qBAAA;AACA,IAAA,WAAA,GAAA,qCAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,eAAA,EAAA,MAAA,CADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GAFA;AAGA,EAAA,UAAA,EAAA;AAAA,IAAA,cAAA,EAAA;AAAA,GAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,SAAA,SAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,MAAA,KAAA,CAAA,KAAA,CAAA,YAAA,EAAA,GAAA,CAAA,OAAA;AACA,KAHA;AAIA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,QADA,EACA;AACA,MAAA,OAAA,CAAA;AACA,QAAA,GAAA,EAAA,WADA;AAEA,QAAA,IAAA,EAAA,MAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,IAAA,EAAA;AAAA,UAAA,MAAA,EAAA,KAAA;AAAA,SAJA;AAKA,QAAA,WAAA,EAAA,kBALA;AAMA,QAAA,OAAA,EAAA,iBAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,GAAA,CAAA;AACA;AARA,OAAA,CAAA;AAUA,KAZA;AAaA,IAAA,oBAbA,kCAaA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,IAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA,IAAA;;AAEA,UAAA,IAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,0BAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA;;AACA,WAAA,SAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EADA,CAEA;;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA;AAKA,KA7BA;AA8BA,IAAA,UA9BA,sBA8BA,OA9BA,EA8BA;AACA,WAAA,IAAA,GAAA,OAAA;AACA;AAhCA;AAhBA,CAAA","sourcesContent":["<template>\n  <div\n    class=\"demo-infinite-container\"\n    :infinite-scroll-disabled=\"busy\"\n    :infinite-scroll-distance=\"10\"\n  >\n    <a-list :data-source=\"data\">\n      <a-list-item\n        slot=\"renderItem\"\n        slot-scope=\"item\"\n        v-infinite-scroll=\"handleInfiniteOnLoad\"\n      >\n        <a-list-item-meta :description=\"item.notice\">\n          <a slot=\"title\">{{ item.name }}</a>\n          <a-avatar slot=\"avatar\" src=\"\" />\n        </a-list-item-meta>\n        <div>\n          <tagcom\n            v-if=\"item.level == 'level1'\"\n            :color=\"'#87d068'\"\n            :content=\"'小事'\"\n          ></tagcom>\n          <tagcom\n            v-else-if=\"item.level == 'level2'\"\n            :color=\"'#00FFFF'\"\n            :content=\"'正事'\"\n          ></tagcom>\n          <tagcom\n            v-else-if=\"item.level == 'level3'\"\n            :color=\"'#FF4500'\"\n            :content=\"'大事'\"\n          ></tagcom>\n        </div>\n        <div>\n          <tagcom :color=\"'#008c8c'\" :content=\"item.helper\"></tagcom>\n        </div>\n        <div>\n          <tagcom\n            :color=\"'#7FFF00'\"\n            :content=\"new Date(item.begintime * 1000).toLocaleString()\"\n          ></tagcom>\n        </div>\n        <div>\n          <tagcom\n            :color=\"'#CD2626'\"\n            :content=\"new Date(item.endtime * 1000).toLocaleString()\"\n          ></tagcom>\n        </div>\n        <div>\n          <buttoncom\n            v-if=\"currentstatus == 2\"\n            :taskID=\"item.id\"\n            :currentstatus=\"currentstatus\"\n            @updateTask=\"updateTask\"\n          ></buttoncom>\n        </div>\n      </a-list-item>\n      <div v-if=\"loading && !busy\" class=\"demo-loading-container\">\n        <a-spin />\n      </div>\n    </a-list>\n  </div>\n</template>\n<script>\nimport tagcom from './tagcom';\nimport buttoncom from './buttoncom'\nimport reqwest from 'reqwest';\nimport infiniteScroll from 'vue-infinite-scroll';\nconst fakeDataUrl = 'http://192.168.0.29:5350/selecttask';\nexport default {\n  props: ['currentstatus', 'data'],\n  components: { tagcom, buttoncom },\n  directives: { infiniteScroll },\n  data () {\n    return {\n      loading: false,\n      busy: false,\n    };\n  },\n  created () {\n    this.fetchData(res => {\n      console.log(res)\n      this.$emit('updateData', res.results)\n    });\n  },\n  methods: {\n    fetchData (callback) {\n      reqwest({\n        url: fakeDataUrl,\n        type: 'json',\n        method: 'get',\n        data: { status: this.currentstatus },\n        contentType: 'application/json',\n        success: res => {\n          callback(res);\n        },\n      });\n    },\n    handleInfiniteOnLoad () {\n      const data = this.data;\n      this.loading = true;\n      console.log(this, data)\n\n      if (data.lengith >= 10) {\n        this.$message.warning('Infinite List loaded all');\n        this.busy = true;\n        this.loading = false;\n        return;\n      }\n      this.fetchData(res => {\n        console.log(res)\n        // this.data = data.concat(res.results);\n        this.loading = false;\n      });\n    },\n    updateTask (resdata) {\n      this.data = resdata\n    }\n  },\n};\n</script>\n<style>\n.demo-infinite-container {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  overflow: auto;\n  padding: 8px 24px;\n  height: 300px;\n}\n.demo-loading-container {\n  position: absolute;\n  bottom: 40px;\n  width: 100%;\n  text-align: center;\n}\n</style>"],"sourceRoot":"src/components"}]}